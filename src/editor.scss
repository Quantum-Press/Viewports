/**
 * Post Editor - Content division.
 */
.edit-post-visual-editor {
	display: flex;
	flex-direction: row;
	align-items: flex-start;
	max-height: 100%;

	& > .components-accessible-toolbar {
		position: absolute !important;
		top: 0 !important;
		right: 0 !important;
		left: 0 !important;
		z-index: 1000 !important;

		@media screen and ( max-width: 781px ) {
			height: 47px;
		}
	}

	& > #qp-viewports-inspector-ui-wrap {
		@media screen and ( max-width: 781px ) {
			margin-top: calc( 45px + 47px );
		}
	}

	& > .edit-post-visual-editor__content-area {
		width: auto !important;
		flex-direction: column;
		flex-grow: 1 !important;
		flex-shrink: 1 !important;
		justify-content: flex-start;
		margin: 0 auto;
		max-width: 100%;
		height: 100%;
		min-width: 300px;
		box-sizing: border-box;
		overflow: hidden !important;

		@media screen and ( max-width: 781px ) {
			padding-top: 47px !important;
		}

		iframe[name="editor-canvas"] {
			flex-grow: 1;
			flex-shrink: 0;
		}
	}

	#qp-viewports-ui-wrap {
		width: 100%;
	}
}


/**
 * Post Editor - Fix 6.5
 */
.edit-post-visual-editor {
	& > div:not( .edit-post-visual-editor__content-area ) {
		&:first-child:last-child {
			width: 100%;
			flex-direction: column;
			align-items: center;
		}
	}
}
.edit-post-layout {
	.interface-interface-skeleton__body {
		background: #212124;
	}
}


/**
 * Site Editor - Content division.
 */
.edit-site-editor__interface-skeleton {
	background: #212124;

	#qp-viewports-inspector-ui-wrap {
		height: auto;
	}
}
.edit-site-visual-editor {
	.edit-site-visual-editor__editor-canvas {
		transition: none !important;
	}
}


/**
 * Interface Skeleton - Ordering.
 */
.interface-interface-skeleton__body {
	.interface-interface-skeleton__secondary-sidebar {
		order: 1;
	}

	* {
		order: 3;
	}

	.interface-interface-skeleton__sidebar {
		order: 5;
	}
}
body.is-left-inspector {
	.interface-interface-skeleton__body {
		#qp-viewports-inspector-ui-wrap {
			order: 2;
		}
	}
}
body.is-right-inspector {
	.interface-interface-skeleton__body {
		#qp-viewports-inspector-ui-wrap {
			order: 4;

			.qp-viewports-inspector {
				&.flyout {
					left: inherit;
					right: 0;
				}
			}
		}
	}
}


/**
 * Inspector - General.
 */
#qp-viewports-inspector-ui-wrap {
	position: relative;
	height: calc( 100% - 45px );
	box-sizing: border-box;
	background: #212124;

	* {
		box-sizing: border-box;
	}
}
.qp-viewports-inspector {
	width: 45px;
	padding-bottom: 47px;
	height: 100%;
	background: #212124;

	&.expanded {
		width: 280px;
	}

	&:not( .expanded ) {
		.qp-viewports-inspector-head {
			border-bottom: none;
		}

		.qp-viewports-inspector-body {
			* {
				display: none;
			}
		}
	}

	&.inactive {
		display: none;
	}

	&.flyout {
		position: absolute;
		left: 0;
		top: -45px;
		margin-top: 45px;
		padding-top: 48px;
		z-index: 1000;
		height: calc( 100% + 45px );

		.qp-viewports-inspector-head {
			position: absolute;
			top: 0;
			left: 0;
			z-index: 1000;
			width: 100%;
		}

		.qp-viewports-inspector-foot {
			bottom: 0;
		}
	}
}
body.is-active-viewports {
	&.is-left-inspector {
		#qp-viewports-inspector-ui-wrap {
			border-right: 1px solid #919191;
		}
	}
	&.is-right-inspector {
		#qp-viewports-inspector-ui-wrap {
			border-left: 1px solid #919191;
		}
	}
}


/**
 * Inspector - Site Editor.
 */
.edit-site-layout {
	.qp-viewports-inspector {
		height: calc( 100% + -15px );

		.qp-viewports-inspector-body {
			height: calc( 100% - 32px );
		}

		.qp-viewports-inspector-foot {
			bottom: 0;
		}

		&.flyout {
			height: 100%;

			.qp-viewports-inspector-body {
				height: 100%;
			}
		}
	}
}

/**
 * Inspector - Head / Body / Foot.
 */
.qp-viewports-inspector {
	.qp-viewports-inspector-head {
		display: flex;
		border-bottom: 1px solid #919191;
		padding-right: 6px;
	}

	.qp-viewports-inspector-body {
		height: 100%;
	}

	.qp-viewports-inspector-foot {
		position: absolute;
		bottom: -45px;
		right: 0;
		left: 0;
	}

	.qp-viewports-inspector-control {
		position: relative;
		display: flex;
		flex-direction: row;
		cursor: pointer;

		* {
			user-select: none;
		}

		.qp-viewports-inspector-control-icon {
			display: flex;
			flex-direction: row;
			width: 44px;
			height: 47px;
			justify-content: center;
			align-items: center;

			.dashicon,
			svg {
				color: #919191;
			}

			svg.qp-viewports-svg.edit {
				* {
					stroke: #919191;
				}
			}

			svg.qp-viewports-svg.inspect {
				padding: 8px;

				.cls-1 {
					stroke: #919191;
				}
				.cls-2 {
					fill: #919191;
				}
				.cls-3 {
					opacity: 1;
				}
			}

			svg.qp-viewports-svg.logo {
				padding: 8px;
			}
		}

		.qp-viewports-inspector-control-label {
			display: flex;
			align-items: center;
			color: #919191;
			transition: 0.3s ease color;

			.dashicons {
				color: #919191;
			}

			& > span {
				line-height: 36px;
			}
		}

		&:hover {
			.qp-viewports-inspector-control-icon {
				.dashicon,
				svg {
					color: #fff;
				}

				svg.qp-viewports-svg.edit {
					* {
						stroke: #fff;;
					}
				}

				svg.qp-viewports-svg.inspect {
					.cls-1 {
						stroke: #fff;
					}
					.cls-2 {
						fill: #fff;
					}
				}
			}

			.qp-viewports-inspector-control-label {
				color: #fff;
			}
		}
	}

	&.expanded {
		.qp-viewports-inspector-head {
			.qp-viewports-inspector-control {
				.qp-viewports-inspector-control-icon {
					svg.qp-viewports-svg.inspect {
						.cls-1 {
							stroke: #fff;
						}
						.cls-2 {
							fill: #fff;
						}
					}
				}
				.qp-viewports-inspector-control-label {
					color: #fff;
				}
			}
		}
	}

	&:not( .expanded ) {
		.qp-viewports-inspector-head {
			.qp-viewports-inspector-control {
				.qp-viewports-inspector-control-icon {
					svg.qp-viewports-svg.inspect {
						.cls-3 {
							opacity: 0;
						}
					}
				}
			}
		}

		.qp-viewports-inspector-body {
			* {
				display: none;
			}
		}
	}

	.qp-viewports-inspector-control {
		&.position {
			margin-left: auto;
		}
		&.close {
			margin-left: 0;
		}
	}
}


/**
 * Inspector - Breadcrumb.
 */
.qp-viewports-inspector-breadcrumb {
	display: flex;
	flex-direction: row;
	align-items: flex-start;
	list-style: none;
	margin: 0;
	padding: 0 10px;
	background: #35363a;

	li {
		margin: 0;
		padding: 0;

		span {
			color: #c2c7c9;
			cursor: pointer;
			line-height: 26px;
		}

		&::after {
			content: '-';
			padding-left: 5px;
			padding-right: 5px;
			color: #c2c7c9;
		}

		&:last-child::after {
			content: none;
		}

		&:hover {
			& > span {
				color: #fff;
				text-decoration: underline;
			}
		}
	}
}


/**
 * Inspector - BlockList.
 *
 */
.qp-viewports-inspector-blocklist {
	padding: 2px 0 0 0;
	height: calc( 100% - 26px );
	overflow-y: scroll;
	border-bottom: 1px solid #424849;

	.qp-viewports-inspector-blocklist-block {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		align-items: center;
		justify-content: space-between;
		border-bottom: 1px solid #424849;
		padding-left: 10px;

		&:last-child {
			border-bottom: none;
		}

		.name {
			width: auto;
			color: #919191;
		}

		.actions {
			display: flex;
			flex-direction: row;
			align-items: center;
			justify-content: flex-end;
			width: 100px;
			border-right: 1px solid #424849;

			button {
				height: 26px;
				color: #919191;

				&.disabled {
					text-decoration: line-through;
					opacity: 0.4;
				}

				&:hover {
					color: #fff;
				}
			}
		}

		.inner-blocks {
			width: 100%;
		}
	}
}


/**
 * Block Editor List View.
 */
table.block-editor-list-view-tree {
	& > tbody {
		& > tr {
			& > td {
				&.block-editor-list-view-block__menu-cell {
					width: 54px;

					& > * {
						display: inline-block;
						width: 24px;
						vertical-align: top;
					}

					button.qp-viewports-inspector-blocklist-toggle {
						&:hover {
							svg.inspect {
								.cls-1 {
									stroke: var( --wp-admin-theme-color );
								}

								.cls-2 {
									fill: var( --wp-admin-theme-color );
								}
							}
						}
					}
				}
			}

			&.is-selected {
				& > td {
					&.block-editor-list-view-block__menu-cell {
						svg.inspect {
							.cls-1 {
								stroke: #fff !important;
							}

							.cls-2 {
								fill: #fff !important;
							}
						}
					}
				}
			}
		}
	}
}

.block-editor-list-view-leaf {
	.block-editor-list-view-block-select-button__label-wrapper {
		min-width: 50px;
	}
}



/**
 * Inspector - Style Object Tree.
 */
.qp-viewports-style-object-tree {
	color: #919191 !important;
	padding: 5px;
	border: 1px solid #919191;
	max-height: 200px;
	max-width: 100%;
	overflow: scroll;

	.object-tree {
		display: block;
		font-size: 10px;
	}

	.style-wrap {
		display: flex;
		flex-direction: column;

		& > .style-values {
			padding-left: 10px;
		}

		& > .style-value-pair {
			display: flex;
			flex-wrap: nowrap;
			justify-content: space-between;
		}
	}

	.style-key {
		cursor: pointer;

		&:hover {
			color: red;

			& + * {
				color: red;
			}
		}
	}
}


/**
 * Topbar.
 */
.qp-viewports-topbar {
	position: relative;
	z-index: 100;
	display: flex;
	justify-content: center;
	border-bottom: 1px solid #919191;
	background: #212124;

	* {
		user-select: none;
	}

	.qp-viewports-shorthands {
		display: flex;
		flex-direction: row;
		height: 47px;

		.qp-viewport-shorthand {
			display: flex;
			padding: 0 6px;
			flex-direction: column;
			justify-content: center;
			cursor: pointer;

			.dashicon {
				color: #919191;
			}

			&.prev,
			&.next {
				&:hover {
					.dashicon {
						color: #fff;
					}
				}
			}

			&.in-range {
				.dashicon {
					color: #fff;
				}
			}

			&.active {
				.dashicon {
					color: #dd823b;
				}
			}
		}
	}

	.qp-viewports-data {
		position: absolute;
		right: 0;
		top: 0;
		display: flex;
		flex-direction: row;
		padding-left: 10px;
		padding-right: 10px;
		gap: 10px;
		height: 47px;

		.chosen-viewport,
		.chosen-zoom {
			color: #919191;
			font-size: 12px;
			align-self: center;
		}
	}
}



/**
 * Viewports.
 */
.qp-viewports {
	position: relative;
	z-index: 100;
	height: 26px;
	width: 100%;
	overflow: hidden;
	background: #35363a;
	padding-top: 2px;
	padding-bottom: 2px;

	&,
	& * {
		box-sizing: border-box;
	}

	* {
		user-select: none;
	}

	&:hover {
		.qp-viewport,
		.qp-viewport.active {
			background: transparent;

			.title {
				font-size: 0;
			}

			.width {
				font-size: 0;
			}
		}
	}

	.qp-viewport {
		position: absolute;
		top: 0;
		bottom: 2px;
		left: 50%;
		transform: translate(-50%);
		height: 100%;
		border-left: 2px solid #212124;
		border-right: 2px solid #212124;
		transition: width 0.2s ease;

		.width {
			height: 100%;
			text-align: center;
			font-size: 0;
			line-height: 24px;
			color: #919191;
		}

		.title {
			position: absolute;
			top: 26px;
			left: 50%;
			min-width: 320px;
			transform: translate( -50% );
			text-align: center;
			font-size: 0;
			color: #4a4c50;
		}

		&:hover {
			background: #454544 !important;

			.title {
				font-size: 12px !important;
			}

			.width {
				font-size: 12px !important;
			}
		}

		&.active {
			background: #454544;

			.title {
				font-size: 12px;
			}

			.width {
				font-size: 12px;
			}
		}
	}
}



/**
 * iFrame wrap.
 */
.edit-site-visual-editor,
.edit-post-visual-editor,
.edit-post-visual-editor .edit-post-visual-editor__content-area .is-desktop-preview {
	background: #212124 !important;
}


/**
 * iFrame.
 */
.edit-site-visual-editor {
	.components-resizable-box__container {
		overflow: hidden !important;

		& > div {
			display: inherit !important;
		}
	}

	iframe[name="editor-canvas"] {
		width: 100%;
		height: 100%;
		margin: 0 auto;
	}
}


/**
 * Editor Styles Wrapper.
 */
.edit-post-visual-editor {
	.is-desktop-preview {
		align-items: center;
	}

	.editor-styles-wrapper {
		width: 100%;
		height: 100%;
		margin: 0 auto;
		background: #fff;
		overflow-y: scroll;
		flex-shrink: 0;
		flex-grow: 1;
		flex-basis: inherit;

		&,
		& * {
			box-sizing: border-box;
		}
	}
}


/**
 * Disable native preview.
 */
.block-editor-post-preview__dropdown {
	display: none;
}



/**
 * Toggle.
 */
.qp-viewports-toggle {
	width: 58px;
	height: 58px;
	transition: background .3s ease;
	padding: 11px;

	&:focus {
		box-shadow: inset 0 0 0 1px #fff, 0 0 0 var( --wp-admin-border-width-focus ) var( --wp-admin-theme-color );
		outline: 2px solid transparent;
	}

	svg.toggle {
		width: 100%;
		height: auto;
		padding: 3px;
		border-radius: 2px;

		g.outer {
			transform: scale( 1.3 );

			* {
				stroke-width: 40;
			}
		}

		* {
			fill: none;
			stroke: #000000;
			stroke-width: 60;
			transition: 0.3s;
		}

		g.outer {
			transform-origin: center;
		}

		.iris {
			stroke-width: 0;
			r: 150;
		}

		.pupil {
			fill: #000;
			stroke-width: 0;
		}
	}

	&:not( .active ) {
		svg.toggle {
			.iris,
			.pupil {
				r: 150;
			}
		}
	}

	&.active {
		svg.toggle {
			background: #212124;

			* {
				stroke: #fff;
				// stroke-width: 80;
			}

			g.outer {
				transform: scale( 1.3 );
			}

			.iris,
			.pupil {
				stroke-width: 60;
			}

			.iris {
				r: 210;
			}

			.pupil {
				r: 40px;
				fill: none;
			}
		}
	}

	&.loading {
		svg.toggle {
			g.outer {
				transform: scale( 1 );
				animation: rotate 1s linear infinite;
			}

			.iris,
			.pupil {
				stroke-width: 60;
			}

			.iris {
				r: 210;
			}

			.pupil {
				r: 40;
				fill: none;
			}

			&.active {
				.iris,
				.pupil {
					stroke-width: 60;
				}
			}
		}
	}

	&.registering {
		svg.toggle {
			g.outer {
				opacity: 1;
			}

			.iris {
				r: 150;
				animation: iris 2s ease infinite;
			}

			.pupil {
				r: 150;
				animation: pupil 2s ease infinite;
			}
		}

		&.active {
			svg.toggle {
				.pupil {
					r: 40;
				}
			}
		}
	}

	/**
	 * Animation keyframes - iris.
	 */
	 @keyframes iris {
		25% {
			cx: 411.1;
			cy: 640;
		}
		75% {
			cx: 868.9;
			cy: 640;
		}
		100% {
			cx: 640;
			cy: 640;
		}
	}

	/**
	 * Animation keyframes - pupil.
	 */
	 @keyframes pupil {
		25% {
			cx: 411.1;
			cy: 640;
		}
		75% {
			cx: 868.9;
			cy: 640;
		}
		100% {
			cx: 640;
			cy: 640;
		}
	}

	/**
	 * Animation keyframes - rotate.
	 */
	@keyframes rotate {
		0% { transform: scale( 1 ); }
		100% { transform: scale( 1 ) rotate( 360deg ); }
	}
}



/**
 * Keyframes.
 */
.qp-keyframes {
	position: relative;
	min-height: 35px;
	z-index: 100;
	color: #919191;
	background: #212124;

	* {
		box-sizing: border-box;
	}

	.qp-keyframes-wrap {
		display: flex;
		flex-direction: row;
		position: absolute;
		left: 50%;
		transform: translateX( -50% );
		margin-top: 8px;

		.qp-keyframe {
			position: relative;
			height: 20px;

			transition: height 0.2s ease;

			&::before {
				content: '';
				display: block;
				position: absolute;
				bottom: -4px;
				height: 8px;
				width: 8px;
				border-top: 1px solid #919191;
			}

			&::after {
				content: '';
				display: block;
				position: absolute;
				bottom: 0;
				border-bottom: 1px solid #919191;
			}

			&:only-child {
				width: 100% !important;
			}

			&.inspected {
				height: 42px;
			}

			&.first {
				border-right: 1px solid #919191;

				&::before {
					left: 10px;
					transform: rotate( -135deg );
				}

				&::after {
					left: 8px;
					right: 0;
				}
			}

			&.center {
				&::before,
				&::after {
					content: none;
				}

				.info {
					text-align: center;
					color: #919191;
				}
			}

			&.last {
				border-left: 1px solid #919191;

				&::before {
					right: 10px;
					transform: rotate( 135deg );
				}

				&::after {
					left: 0;
					right: 8px;
				}

				.inspector {
					position: absolute;
					top: 0px;
					left: 0px;
					width: 18px;
					height: 19px;

					svg {
						position: relative;
						top: -3px;
						height: 18px;
						width: 20px;
						fill: #919191;
					}
				}
			}

			&.inspected,
			&:hover,
			&.hover {
				border-color: #fff !important;

				&::before,
				&::after {
					border-color: #fff !important;
				}

				.inspector {
					svg {
						fill: #fff !important;
					}
				}
			}

			&.new,
			&.new.inspected {
				border-color: var( --wp-admin-theme-color-darker-20 ) !important;

				&::before,
				&::after {
					border-color: var( --wp-admin-theme-color-darker-20 ) !important;
				}

				.inspector {
					svg {
						fill: var( --wp-admin-theme-color-darker-20 ) !important;
					}
				}

				&:hover,
				&.hover {
					border-color: var( --wp-admin-theme-color ) !important;

					&::before,
					&::after {
						border-color: var( --wp-admin-theme-color ) !important;
					}

					.inspector {
						&::after {
							border-color: var( --wp-admin-theme-color ) !important;
						}
					}
				}
			}

			&.changes {
				&.inspected,
				&:hover,
				&.hover {
					.marker {
						background: var( --wp-admin-theme-color ) !important;
					}
				}

				.marker {
					content: "";
					position: absolute;
					left: -2px;
					top: -4px;
					display: block;
					width: 3px;
					height: 3px;
					border-radius: 50%;
					background: var( --wp-admin-theme-color-darker-20 );
				}

				&.first {
					.marker {
						right: -2px;
					}
				}

				&.last {
					.marker {
						left: -2px;
					}
				}
			}

			&.removed {
				opacity: 0.8;
				border-color: var( --wp--preset--color--vivid-red ) !important;

				&::before,
				&::after {
					border-color: var( --wp--preset--color--vivid-red ) !important;
				}

				.inspector {
					&::after {
						border-color: var( --wp--preset--color--vivid-red ) !important;
					}
				}

				&:hover,
				&.hover {
					opacity: 1;
				}
			}

			&.open {
				height: auto;
				background: #212124;
				border-bottom: 1px solid #4a4c50;
			}
		}
	}
}



/**
 * Keyframe Styles.
 */
.quantum-viewport-styles {
	padding-top: 50px;

	strong {
		display: block;
		width: 100px;
		border-bottom: 2px solid #919191;
		padding-bottom: 6px;
		margin-left: auto;
		margin-right: auto;
		text-align: center;
	}

	.quantum-style-saves-wrap,
	.quantum-style-changes-wrap,
	.quantum-style-removes-wrap {
		display: flex;
		flex-direction: row;
		justify-content: center;
		padding: 6px;
	}

	.style-wrap {
		display: flex;
		flex-direction: row;
		justify-content: space-between;

		.style-key,
		.style-value {
			margin-right: 5px;
		}

		.style-key {
			cursor: pointer;

			& > span {
				text-decoration: underline;
			}

			&:hover {
				color: var( --wp--preset--color--vivid-red );

				& + .style-value,
				& + .style-values {
					color: var( --wp--preset--color--vivid-red );
				}
			}
		}
	}
}

.quantum-viewport-style-saves-wrap,
.quantum-viewport-style-changes-wrap {
	display: flex;
	flex-direction: row;
	justify-content: center;
	padding-bottom: 10px;
}


/**
 * Quantum Viewports - Editor - Indicator.
 *
 */
.qp-viewports-indicator {
	.p0 {
		opacity: 0;
	}

	&.is-editing {
		.p0 {
			opacity: 1;
		}

		.p0,
		.p1,
		.p2,
		.p3 {
			stroke: #dd823b;
		}
	}
}


/**
 * Quantum Viewports - Editor - SVGs.
 *
 */
svg.qp-viewports-svg {
	&.edit {
		* {
			fill: none;
			stroke: #000;
			stroke-miterlimit: 10;
			stroke-width: 80px;
		}
	}

	&.inspect {
		.cls-1 {
			fill: none;
			stroke: #000;
			stroke-miterlimit: 10;
			stroke-width: 80px;
		}
		.cls-2 {
			fill: #000;
			stroke-miterlimit: 10;
		}
		.cls-3 {
			opacity: 0;
		}
	}

	&.cls-3 {
		stroke-linecap: square;
	}
	&.cls-4{
		stroke-linecap: round;
	}
}

button.active {
	svg.qp-viewports-svg {
		&.inspect {
			.cls-3 {
				opacity: 1;
			}
		}
	}
}

svg.logo {
	path {
		fill: none;
		stroke: currentColor;
		stroke-width: 80;
		transition: 0.3s;

		&.l1,
		&.l3,
		&.l4,
		&.l6,
		&.l7,
		&.l8,
		&.l9 {
			stroke-miterlimit:10;
		}

		&.l2 {
			stroke-linejoin: bevel;
			stroke-miterlimit: 10;
		}

		&.l5 {
			stroke-linecap: square;
			stroke-miterlimit: 10;
		}
	}

	circle {
		fill: none;
		stroke: currentColor;
		stroke-width: 80;
		transition: 0.3s;
	}

	g {
		transform-origin: center;
	}
}


/**
 * Highlights - General.
 */
.qp-viewports-highlight-wrap {
	position: fixed;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	user-select: none;
	pointer-events: none;
	z-index: 10000;

	.qp-viewports-highlight {
		position: absolute;
		border: 1px solid var( --wp-admin-theme-color );;
	}
}